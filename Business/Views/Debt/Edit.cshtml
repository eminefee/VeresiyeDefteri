@model DebtRecord

<br />
<br />

<form asp-action="Edit" method="post" class="user">
    <div class="form-group">
        <input asp-for="CustomerName" class="form-control form-control-user"
               placeholder="Müşteri İsmini Giriniz..." required />
        <span asp-validation-for="CustomerName" class="text-danger"></span>
    </div>

    <div class="form-group">
        <input asp-for="Amount" step="0.01" class="form-control form-control-user"
               placeholder="Borç Miktarı Giriniz..." required />
		<small id="amountWarning" class="text-danger d-none">Lütfen sadece sayı giriniz.</small>
    </div>
	<div class="form-group">
		<input type="email" id="email" name="email" class="form-control form-control-user"
			   placeholder="Müşteri Email Giriniz..." />
		<span asp-validation-for="Email" class="text-danger"></span>

	</div>

    <div class="form-group">
        <input asp-for="Description" class="form-control form-control-user"
               placeholder="Açıklama Giriniz..." />
        <span asp-validation-for="Description" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-primary btn-user btn-block">Güncelle</button>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
<script>
		document.addEventListener("DOMContentLoaded", function () {
		const amountInput = document.getElementById("amount");
		const warning = document.getElementById("amountWarning");

		if (!amountInput || !warning) return;

		amountInput.addEventListener("input", function () {
			const value = this.value;

			// Sadece 0-9, nokta ve virgül geçerli
			const isValid = /^[0-9.,]*$/.test(value);

			if (!isValid) {
				warning.classList.remove("d-none");
			} else {
				warning.classList.add("d-none");
			}

			// Geçersiz karakterleri anında temizle
			this.value = value.replace(/[^0-9.,]/g, '');
		});
	});
</script>